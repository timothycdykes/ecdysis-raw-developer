<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ecdysis RAW Developer</title>
    <link rel="stylesheet" href="./styles.css" />
  </head>
  <body>
    <header class="topbar">
      <h1>Ecdysis RAW Developer</h1>
      <div class="actions">
        <button id="copy-all">Copy (Ctrl+C)</button>
        <button id="copy-selective">Copy Selective (Ctrl+Shift+C)</button>
        <div class="selective-copy-groups" id="selective-copy-groups">
          <label><input type="checkbox" value="whiteBalance" checked />WB</label>
          <label><input type="checkbox" value="profile" checked />Profile</label>
          <label><input type="checkbox" value="light" checked />Light</label>
          <label><input type="checkbox" value="color" checked />Color</label>
          <label><input type="checkbox" value="effects" checked />Effects</label>
          <label><input type="checkbox" value="mixer" checked />Mixer</label>
          <label><input type="checkbox" value="grade" checked />Grade</label>
          <label><input type="checkbox" value="curves" />Curve</label>
        </div>
        <button id="paste">Paste</button>
        <button id="snapshot">Snapshot</button>
        <button id="preset">Save Preset</button>
        <button id="export-image">Export Image</button>
        <button id="export-recipe">Export Recipe</button>
      </div>
    </header>

    <main class="layout" id="drop-target">
      <aside class="filmstrip" id="filmstrip"></aside>

      <section class="preview-pane">
        <div class="preview-toolbar">
          <div class="tool-controls" role="group" aria-label="Preview tools">
            <button id="hand-tool" title="Hand tool (H)">Hand</button>
            <button id="crop-tool" title="Crop tool (C)">Crop</button>
          </div>
          <div class="zoom-controls">
            <button id="zoom-out" title="Zoom out">−</button>
            <button id="zoom-fit" title="Fit preview">Fit</button>
            <button id="zoom-in" title="Zoom in">+</button>
            <span id="zoom-level">100%</span>
          </div>
        </div>
        <p class="preview-help" id="preview-help">Pan: hold Space and drag (or press H). Press P for original preview.</p>
        <div class="preview-card" id="preview-card">
          <div id="preview-stage" class="preview-stage" hidden>
            <canvas id="preview-canvas" aria-label="Selected preview" draggable="false"></canvas>
            <div id="crop-overlay" class="crop-overlay" hidden>
              <div id="crop-box" class="crop-box"></div>
            </div>
          </div>
          <div class="preview-empty" id="preview-empty">
            Drag RAW/JPEG files here to begin.
          </div>
        </div>
        <p class="preview-meta" id="preview-meta"></p>
      </section>

      <aside class="adjustments-sidebar">
        <div class="acr-tabs" role="tablist" aria-label="Adjustments tabs">
          <button class="acr-tab active" data-tab="edit" aria-selected="true">Edit</button>
          <button class="acr-tab" data-tab="color" aria-selected="false">Color</button>
          <button class="acr-tab" data-tab="masks" aria-selected="false">Masking</button>
          <button class="acr-tab" data-tab="snapshots" aria-selected="false">Snapshots</button>
          <button class="acr-tab" data-tab="metadata" aria-selected="false">Metadata</button>
        </div>

        <section class="panel acr-panel" data-panel="edit">
          <h2>Basic</h2>
          <p class="panel-copy">Camera profile + treatment controls are now available, alongside resettable sliders and point-curve shaping.</p>
          <div id="basic-controls" class="control-grid"></div>
        </section>

        <section class="panel acr-panel" data-panel="color" hidden>
          <h2>Color Mixer & Grading</h2>
          <p class="panel-copy">HSL color mixer and 4-way grading are applied live to preview + export.</p>
          <div id="color-controls" class="control-grid"></div>
        </section>

        <section class="panel acr-panel" data-panel="masks" hidden>
          <h2>Masks</h2>
          <div class="inline-controls">
            <select id="mask-type">
              <option value="linear">Linear Gradient</option>
              <option value="radial">Radial Gradient</option>
              <option value="brush">Brush</option>
            </select>
            <button id="add-mask">Add mask layer</button>
          </div>
          <ul id="mask-list"></ul>
        </section>

        <section class="panel acr-panel" data-panel="snapshots" hidden>
          <h2>Snapshots</h2>
          <ul id="snapshot-list"></ul>
        </section>

        <section class="panel acr-panel" data-panel="metadata" hidden>
          <h2>Metadata</h2>
          <div class="inline-controls">
            <label>Rating
              <select id="rating">
                <option value="0">Unrated</option>
                <option value="1">1 ★</option>
                <option value="2">2 ★</option>
                <option value="3">3 ★</option>
                <option value="4">4 ★</option>
                <option value="5">5 ★</option>
              </select>
            </label>
            <label>Color label
              <input id="color-label" placeholder="red, yellow..." />
            </label>
            <button id="apply-meta">Apply</button>
            <button id="mark-delete">Mark for deletion</button>
          </div>
        </section>
      </aside>
    </main>

    <script type="module" src="./ui.js"></script>
  </body>
</html>
